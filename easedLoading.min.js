(function(a){a("<style type='text/css'>.ball{position: absolute;width:10px;height:10px;background: #5c5c5c;border-radius: 10px;}</style>").appendTo("head");a("<style type='text/css'>.loadingText{font-family: Tahoma;color: #5c5c5c;font-size:smaller;display:block;}</style>").appendTo("head");a.fn.loading=function(d){var h=this;var g=Number(h.attr("fadeOut"));var b=h.attr("textClass");clearInterval(h.attr("intervalID"));h.find("."+b).animate({opacity:0},g,function(){a(this).remove()});if(d==false){return}var c=a.extend({},{animationDuration:4000,newBallsInterval:400,easing:"easeInOutQuart",ballCSSClass:"ball",textCSSClass:"loadingText",text:""},d);if(c.text!=""){var e=document.createElement("span");a(e).addClass(c.textCSSClass).text(c.text);h.append(e)}var f=setInterval(function(){var i=document.createElement("span");i.style.opacity=0;a(i).offset({left:a(i).width()});a(i).addClass(c.ballCSSClass);a(h).append(i);a(i).animate({opacity:1},{queue:true,duration:Number(c.animationDuration)/2});a(i).animate({opacity:0},{queue:true,duration:Number(c.animationDuration)/2});a(i).animate({left:Number(h.width())-Number(a(i).width())},{duration:Number(c.animationDuration),easing:c.easing,queue:false,always:function(){a(i).remove()}})},c.newBallsInterval);a(this).attr("intervalID",f).attr("fadeOut",c.animationDuration).attr("textClass",c.textCSSClass);return this}})(jQuery);