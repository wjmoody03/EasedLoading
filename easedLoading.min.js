(function(a){a("<style type='text/css'>.ball{position: absolute;width:10px;height:10px;background: #5c5c5c;border-radius: 10px;}</style>").appendTo("head");a("<style type='text/css'>.loadingText{font-family: Tahoma;color: #5c5c5c;font-size:smaller;display:block;}</style>").appendTo("head");a.fn.loading=function(j){var b=this;var g=0;var c=false;var e=Number(b.attr("fadeOut"));var h=b.attr("textClass");clearInterval(b.attr("intervalID"));b.find("."+h).animate({opacity:0},e,function(){a(this).remove()});if(j==false){return}var f=a.extend({},{animationDuration:4000,newBallsInterval:400,easing:"easeInOutQuart",ballCSSClass:"ball",textCSSClass:"loadingText",text:"",groupSize:0},j);if(f.text!=""){var i=document.createElement("span");a(i).addClass(f.textCSSClass).text(f.text);b.append(i)}var d=setInterval(function(){if(c){return}g++;if(g>f.groupSize&&f.groupSize!=0){c=true}var k=document.createElement("span");k.style.opacity=0;a(k).offset({left:a(k).width()});a(k).addClass(f.ballCSSClass);a(b).append(k);a(k).animate({opacity:1},{queue:true,duration:Number(f.animationDuration)/2});a(k).animate({opacity:0},{queue:true,duration:Number(f.animationDuration)/2});a(k).animate({left:Number(b.width())-Number(a(k).width())},{duration:Number(f.animationDuration),easing:f.easing,queue:false,always:function(){g--;if(g==0){c=false}a(k).remove()}})},f.newBallsInterval);a(this).attr("intervalID",d).attr("fadeOut",f.animationDuration).attr("textClass",f.textCSSClass);return this}})(jQuery);